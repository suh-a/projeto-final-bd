CREATE DATABASE work_flow_db;

USE work_flow_db;

CREATE TABLE usuarios(
    id_usuarios INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(45) NOT NULL,
    email VARCHAR(45)NOT NULL,
    senha VARCHAR(8) NOT NULL,
    telefone VARCHAR(20) NOT NULL,
    cpf VARCHAR(14) NOT NULL,
    data_criacao DATETIME DEFAULT NOW()
);

CREATE TABLE notificacoes(
    id_notificacao INT AUTO_INCREMENT PRIMARY KEY,
    mensagem VARCHAR(45) NOT NULL,
    data_envio DATETIME NOT NULL DEFAULT NOW(),
    lida TINYINT NOT NULL,
    id_usuarios INT,
    FOREIGN KEY(id_usuarios)REFERENCES usuarios(id_usuarios)
);

CREATE TABLE areas(
    id_area INT AUTO_INCREMENT PRIMARY KEY,
    nome_area VARCHAR(45) NOT NULL	
);

CREATE TABLE profissionais(
    id_profissional INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(45) NOT NULL,
    email VARCHAR(45)NOT NULL,
    senha VARCHAR(8) NOT NULL,
    telefone VARCHAR(20) NOT NULL,
    cpf_cnpj VARCHAR(45)NOT NULL,
    descricao VARCHAR(200),
    nota_media DOUBLE,
    data_criacao DATETIME NOT NULL,
    id_area INT,
    FOREIGN KEY (id_area)REFERENCES areas(id_area)
);

CREATE TABLE disponibilidade(
    id_disponibilidade INT AUTO_INCREMENT PRIMARY KEY,
    dia_semana VARCHAR(45) NOT NULL,
    horario_inicio TIME NOT NULL,
    horario_fim TIME NOT NULL,
    id_profissional INT,
    FOREIGN KEY(id_profissional)REFERENCES profissionais(id_profissional)
);

CREATE TABLE avaliacoes(
    id_avaliacao INT AUTO_INCREMENT PRIMARY KEY,
    nota DOUBLE NOT NULL,
    comentario VARCHAR(45) NOT NULL,
    data_avaliacao DATETIME DEFAULT NOW(),
    id_usuarios INT,
    id_profissional INT,
    FOREIGN KEY(id_usuarios)REFERENCES usuarios(id_usuarios),
    FOREIGN KEY(id_profissional)REFERENCES profissionais(id_profissional)
);

CREATE TABLE favoritos(
    id_favorito INT AUTO_INCREMENT PRIMARY KEY,
    id_usuarios INT,
    id_profissional INT,
    FOREIGN KEY (id_usuarios)REFERENCES usuarios(id_usuarios),
    FOREIGN KEY (id_profissional)REFERENCES profissionais(id_profissional)
);

CREATE TABLE mensagens_chat(

);

CREATE TABLE enderecos(
    
);

CREATE TABLE categorias_servicos(
	  
);

CREATE TABLE servicos(

);

CREATE TABLE solicitar_serv(
    id_solicitacao INT AUTO_INCREMENT PRIMARY KEY,
    data_solicitacao DATETIME NOT NULL DEFAULT NOW(),
    data_agendada DATETIME NOT NULL,
    stats ENUM('ACEITA','RECUSADA'),
    observacoes VARCHAR(100),
    id_usuarios INT,
    id_profissional INT,
    id_servico INT,
    FOREIGN KEY(id_usuarios)REFERENCES usuarios(id_usuarios),
    FOREIGN KEY(id_profissional)REFERENCES profissionais(id_profissional),
    FOREIGN KEY(id_servico)REFERENCES servicos(id_servico)
);

CREATE TABLE pagamentos(
	
);

CREATE TABLE historico_pag(
	
);
