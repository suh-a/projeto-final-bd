CREATE TABLE mensagens_chat_v2 (
    id_mensagem INT AUTO_INCREMENT PRIMARY KEY,
    mensagem TEXT NOT NULL,
    data_envio DATETIME DEFAULT NOW(),
    lida TINYINT DEFAULT 0, -- 0 = n√£o lida, 1 = lida
    editada TINYINT DEFAULT 0, -- 0 = original, 1 = editada
    tipo_remetente ENUM('usuario', 'profissional') NOT NULL,
    id_remetente INT NOT NULL,
    id_destinatario INT NOT NULL,
    anexo VARCHAR(255), -- caminho ou nome do arquivo
    FOREIGN KEY (id_remetente) REFERENCES usuarios(id_usuarios),
    FOREIGN KEY (id_destinatario) REFERENCES profissionais(id_profissional)
);
